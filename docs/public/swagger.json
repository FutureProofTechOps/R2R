{"openapi": "3.1.0", "info": {"title": "R2R Default App API", "description": "The default application API which ships with R2R.", "version": "1.0.0"}, "paths": {"/upload_and_process_file/": {"post": {"summary": "Upload And Process File", "operationId": "upload_and_process_file_upload_and_process_file__post", "requestBody": {"content": {"multipart/form-data": {"schema": {"$ref": "#/components/schemas/Body_upload_and_process_file_upload_and_process_file__post"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/add_entry/": {"post": {"summary": "Add Entry", "operationId": "add_entry_add_entry__post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/AddEntryRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/add_entries/": {"post": {"summary": "Add Entries", "operationId": "add_entries_add_entries__post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/AddEntriesRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/search/": {"post": {"summary": "Search", "operationId": "search_search__post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/RAGQueryModel"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/rag_completion/": {"post": {"summary": "Rag Completion", "operationId": "rag_completion_rag_completion__post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/RAGQueryModel"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/eval": {"post": {"summary": "Eval", "operationId": "eval_eval_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/EvalPayloadModel"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/filtered_deletion/": {"delete": {"summary": "Filtered Deletion", "operationId": "filtered_deletion_filtered_deletion__delete", "parameters": [{"name": "key", "in": "query", "required": true, "schema": {"type": "string", "title": "Key"}}, {"name": "value", "in": "query", "required": true, "schema": {"anyOf": [{"type": "boolean"}, {"type": "integer"}, {"type": "string"}], "title": "Value"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/get_user_ids/": {"get": {"summary": "Get User Ids", "operationId": "get_user_ids_get_user_ids__get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/get_user_documents/": {"get": {"summary": "Get User Documents", "operationId": "get_user_documents_get_user_documents__get", "parameters": [{"name": "user_id", "in": "query", "required": true, "schema": {"type": "string", "title": "User Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/logs": {"get": {"summary": "Logs", "operationId": "logs_logs_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/logs_summary": {"get": {"summary": "Logs Summary", "operationId": "logs_summary_logs_summary_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}}, "components": {"schemas": {"AddEntriesRequest": {"properties": {"entries": {"items": {"$ref": "#/components/schemas/EntryModel"}, "type": "array", "title": "Entries"}, "settings": {"allOf": [{"$ref": "#/components/schemas/SettingsModel"}], "default": {"embedding_settings": {"do_chunking": true, "do_upsert": true}, "ingestion_settings": {}, "rag_settings": {}}}}, "type": "object", "required": ["entries"], "title": "AddEntriesRequest"}, "AddEntryRequest": {"properties": {"entry": {"$ref": "#/components/schemas/EntryModel"}, "settings": {"allOf": [{"$ref": "#/components/schemas/SettingsModel"}], "default": {"embedding_settings": {"do_chunking": true, "do_upsert": true}, "ingestion_settings": {}, "rag_settings": {}}}}, "type": "object", "required": ["entry"], "title": "AddEntryRequest"}, "Body_upload_and_process_file_upload_and_process_file__post": {"properties": {"document_id": {"type": "string", "title": "Document Id"}, "metadata": {"type": "string", "title": "Metadata", "default": "{}"}, "settings": {"type": "string", "title": "Settings", "default": "{}"}, "file": {"type": "string", "format": "binary", "title": "File"}}, "type": "object", "required": ["document_id", "file"], "title": "Body_upload_and_process_file_upload_and_process_file__post"}, "EmbeddingsSettingsModel": {"properties": {"do_chunking": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Do Chunking", "default": true}, "do_upsert": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Do Upsert", "default": true}}, "type": "object", "title": "EmbeddingsSettingsModel"}, "EntryModel": {"properties": {"document_id": {"type": "string", "title": "Document Id"}, "blobs": {"additionalProperties": {"type": "string"}, "type": "object", "title": "Blobs"}, "metadata": {"anyOf": [{"type": "object"}, {"type": "null"}], "title": "Metadata"}}, "type": "object", "required": ["document_id", "blobs", "metadata"], "title": "EntryModel"}, "EvalPayloadModel": {"properties": {"query": {"type": "string", "title": "Query"}, "context": {"type": "string", "title": "Context"}, "completion_text": {"type": "string", "title": "Completion Text"}, "run_id": {"type": "string", "title": "Run Id"}, "settings": {"$ref": "#/components/schemas/RAGSettingsModel"}}, "type": "object", "required": ["query", "context", "completion_text", "run_id", "settings"], "title": "EvalPayloadModel"}, "GenerationConfigModel": {"properties": {"temperature": {"type": "number", "title": "Temperature", "default": 0.1}, "top_p": {"type": "number", "title": "Top P", "default": 1.0}, "top_k": {"type": "integer", "title": "Top K", "default": 100}, "max_tokens_to_sample": {"type": "integer", "title": "Max Tokens To Sample", "default": 1024}, "model": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Model", "default": "gpt-4-0125-preview"}, "stream": {"type": "boolean", "title": "Stream", "default": false}, "functions": {"anyOf": [{"items": {"type": "object"}, "type": "array"}, {"type": "null"}], "title": "Functions"}, "skip_special_tokens": {"type": "boolean", "title": "Skip Special Tokens", "default": false}, "stop_token": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Stop Token"}, "num_beams": {"type": "integer", "title": "Num Beams", "default": 1}, "do_sample": {"type": "boolean", "title": "Do Sample", "default": true}, "add_generation_kwargs": {"type": "object", "title": "Add Generation Kwargs", "default": {}}, "generate_with_chat": {"type": "boolean", "title": "Generate With Chat", "default": false}}, "type": "object", "title": "GenerationConfigModel"}, "HTTPValidationError": {"properties": {"detail": {"items": {"$ref": "#/components/schemas/ValidationError"}, "type": "array", "title": "Detail"}}, "type": "object", "title": "HTTPValidationError"}, "IngestionSettingsModel": {"properties": {}, "type": "object", "title": "IngestionSettingsModel"}, "RAGQueryModel": {"properties": {"query": {"type": "string", "title": "Query"}, "limit": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Limit", "default": 10}, "filters": {"type": "object", "title": "Filters", "default": {}}, "settings": {"allOf": [{"$ref": "#/components/schemas/SettingsModel"}], "default": {"embedding_settings": {"do_chunking": true, "do_upsert": true}, "ingestion_settings": {}, "rag_settings": {}}}, "generation_config": {"allOf": [{"$ref": "#/components/schemas/GenerationConfigModel"}], "default": {"temperature": 0.1, "top_p": 1.0, "top_k": 100, "max_tokens_to_sample": 1024, "model": "gpt-4-0125-preview", "stream": false, "skip_special_tokens": false, "num_beams": 1, "do_sample": true, "add_generation_kwargs": {}, "generate_with_chat": false}}}, "type": "object", "required": ["query"], "title": "RAGQueryModel"}, "RAGSettingsModel": {"properties": {}, "type": "object", "title": "RAGSettingsModel"}, "SettingsModel": {"properties": {"embedding_settings": {"allOf": [{"$ref": "#/components/schemas/EmbeddingsSettingsModel"}], "default": {"do_chunking": true, "do_upsert": true}}, "ingestion_settings": {"allOf": [{"$ref": "#/components/schemas/IngestionSettingsModel"}], "default": {}}, "rag_settings": {"allOf": [{"$ref": "#/components/schemas/RAGSettingsModel"}], "default": {}}}, "type": "object", "title": "SettingsModel"}, "ValidationError": {"properties": {"loc": {"items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}, "type": "array", "title": "Location"}, "msg": {"type": "string", "title": "Message"}, "type": {"type": "string", "title": "Error Type"}}, "type": "object", "required": ["loc", "msg", "type"], "title": "ValidationError"}}}}