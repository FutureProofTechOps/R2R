{"openapi":"3.1.0","info":{"title":"R2R Application API","version":"1.0.0"},"paths":{"/update_prompt":{"post":{"summary":"Update Prompt","description":"Update a prompt's template and/or input types.","operationId":"update_prompt_app_update_prompt_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePromptRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ingest_documents":{"post":{"summary":"Ingest Documents","operationId":"ingest_documents_app_ingest_documents_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IngestDocumentsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/update_documents":{"post":{"summary":"Update Documents","operationId":"update_documents_app_update_documents_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateDocumentsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ingest_files":{"post":{"summary":"Ingest Files","description":"Ingest files into the system.","operationId":"ingest_files_app_ingest_files_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_ingest_files_app_ingest_files_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/update_files":{"post":{"summary":"Update Files","operationId":"update_files_app_update_files_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_update_files_app_update_files_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/search":{"post":{"summary":"Search","operationId":"search_app_search_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/rag":{"post":{"summary":"Rag","operationId":"rag_app_rag_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RAGRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/evaluate":{"post":{"summary":"Evaluate","operationId":"evaluate_app_evaluate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EvalRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/logs":{"get":{"summary":"Logs","operationId":"logs_app_logs_get","parameters":[{"name":"log_type_filter","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Log Type Filter"}},{"name":"max_runs_requested","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Max Runs Requested"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics":{"post":{"summary":"Analytics","operationId":"analytics_app_analytics_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_analytics_app_analytics_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users_stats":{"get":{"summary":"Users Stats","operationId":"users_stats_app_users_stats_get","parameters":[{"name":"user_ids","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string","format":"uuid"}},{"type":"null"}],"title":"User Ids"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/documents_info":{"get":{"summary":"Documents Info","operationId":"documents_info_app_documents_info_get","parameters":[{"name":"document_ids","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"title":"Document Ids"}},{"name":"user_ids","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"title":"User Ids"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/delete":{"delete":{"summary":"Delete","operationId":"delete_app_delete_delete","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/app_settings":{"get":{"summary":"App Settings","description":"Return the config.json and all prompts.","operationId":"app_settings_app_app_settings_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/openapi_spec":{"get":{"summary":"Openapi Spec","operationId":"openapi_spec_app_openapi_spec_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AnalysisTypes":{"properties":{"analysis_types":{"anyOf":[{"additionalProperties":{"items":{"type":"string"},"type":"array"},"type":"object"},{"type":"null"}],"title":"Analysis Types"}},"type":"object","title":"AnalysisTypes"},"Body_analytics_app_analytics_post":{"properties":{"filter_criteria":{"$ref":"#/components/schemas/FilterCriteria"},"analysis_types":{"$ref":"#/components/schemas/AnalysisTypes"}},"type":"object","required":["filter_criteria","analysis_types"],"title":"Body_analytics_app_analytics_post"},"Body_ingest_files_app_ingest_files_post":{"properties":{"files":{"items":{"type":"string","format":"binary"},"type":"array","title":"Files"},"metadatas":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Metadatas"},"ids":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ids"},"user_ids":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Ids"}},"type":"object","required":["files"],"title":"Body_ingest_files_app_ingest_files_post"},"Body_update_files_app_update_files_post":{"properties":{"files":{"items":{"type":"string","format":"binary"},"type":"array","title":"Files"},"metadatas":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Metadatas"},"ids":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ids"}},"type":"object","required":["files"],"title":"Body_update_files_app_update_files_post"},"DeleteRequest":{"properties":{"keys":{"items":{"type":"string"},"type":"array","title":"Keys"},"values":{"items":{"anyOf":[{"type":"boolean"},{"type":"integer"},{"type":"string"}]},"type":"array","title":"Values"}},"type":"object","required":["keys","values"],"title":"DeleteRequest"},"Document":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"type":{"$ref":"#/components/schemas/DocumentType"},"data":{"anyOf":[{"type":"string"},{"type":"string","format":"binary"}],"title":"Data"},"metadata":{"type":"object","title":"Metadata"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"user_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"User Id"}},"type":"object","required":["id","type","data","metadata"],"title":"Document","description":"A document that has been stored in the system."},"DocumentType":{"type":"string","enum":["csv","docx","html","json","md","pdf","pptx","txt","xlsx","gif","png","jpg","jpeg","svg","mp3","mp4"],"title":"DocumentType","description":"Types of documents that can be stored."},"EvalRequest":{"properties":{"query":{"type":"string","title":"Query"},"context":{"type":"string","title":"Context"},"completion":{"type":"string","title":"Completion"}},"type":"object","required":["query","context","completion"],"title":"EvalRequest"},"FilterCriteria":{"properties":{"filters":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Filters"}},"type":"object","title":"FilterCriteria"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"IngestDocumentsRequest":{"properties":{"documents":{"items":{"$ref":"#/components/schemas/Document"},"type":"array","title":"Documents"}},"type":"object","required":["documents"],"title":"IngestDocumentsRequest"},"RAGRequest":{"properties":{"message":{"type":"string","title":"Message"},"search_filters":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search Filters"},"search_limit":{"type":"integer","title":"Search Limit","default":10},"rag_generation_config":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rag Generation Config"},"streaming":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Streaming"}},"type":"object","required":["message"],"title":"RAGRequest"},"SearchRequest":{"properties":{"query":{"type":"string","title":"Query"},"search_filters":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search Filters"},"search_limit":{"type":"integer","title":"Search Limit","default":10}},"type":"object","required":["query"],"title":"SearchRequest"},"UpdateDocumentsRequest":{"properties":{"documents":{"items":{"$ref":"#/components/schemas/Document"},"type":"array","title":"Documents"}},"type":"object","required":["documents"],"title":"UpdateDocumentsRequest"},"UpdatePromptRequest":{"properties":{"name":{"type":"string","title":"Name"},"template":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Template"},"input_types":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Input Types"}},"type":"object","required":["name"],"title":"UpdatePromptRequest"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}